<!DOCTYPE html>
<html lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>
<h1>Instrumentation Results for octave_mex</h1>
<h2>Summary</h2>
<p>To re-create this report:</p>
<pre>  showInstrumentationResults octave_mex</pre>

<p>MEX-function name:</p>
<pre>octave_mex</pre>
<p>Timestamp:</p>
<pre>Fri Apr  7 10:36:52 2023</pre>
<p>To open this report from the MATLAB command line:</p>
<pre> web('-browser','C:\Users\User\Desktop\VLSI_DSP_Notes_HW_Project\hw3\fix_point_src\instrumentation\octave_mex\html\printable.html')</pre>


<h2>Function octave </h2>

<pre>
function filtered_img = octave(raw_img, stride, n,T)
    [h, w] = size(raw_img);
    filtered_img = cast(raw_img,'like',T.lv1_output);
    partition = 2 ^ n;

    % Horizontal
    H1 = gn_HPF(raw_img(1:h / (partition / 2), 1:w / (partition / 2)), 1, T);
    H1_ = downSampler(H1, stride, 0, n, 1,T);

    % H1f = double(H1_);
    % figure(7);
    % imshow(H1f, []);
    % title('H1_');

    L1 = hn_LPF(raw_img(1:h / (partition / 2), 1:w / (partition / 2)), 1, T);
    L1_ = downSampler(L1, stride, 1, n, 1,T);

    % L1f = double(L1_);
    % figure(7);
    % imshow(L1f, []);
    % title('L1_');

    % Vertical!, i have problem here! The high pass components leads to some errors.
    HH = gn_HPF(H1_(1:h / (partition / 2), 1:w / partition), 0, T);
    HH_ = downSampler(HH, stride, 0, n, 0,T);

    HL = hn_LPF(H1_(1:h / (partition / 2), 1:w / partition), 0, T);
    HL_ = downSampler(HL, stride, 1, n, 0,T);

    LH = gn_HPF(L1_(1:h / (partition / 2), 1:w / partition), 0, T);
    LH_ = downSampler(LH, stride, 0, n, 0,T);

    LL = hn_LPF(L1_(1:h / (partition / 2), 1:w / partition), 0, T);
    LL_ = downSampler(LL, stride, 1, n, 0,T);
    % Trace till here, problems happens with LL_
    % Recombination
    filtered_img(1:h / partition, 1:w / partition) = LL_(1:h / partition, 1:w / partition);

    filtered_img(1:(h / partition), (w / partition) + 1:w / (partition / 2)) = HL_(1:h / partition, 1:w / partition);

    filtered_img((h / partition) + 1:(h / (partition / 2)), 1:(w / partition)) = LH_(1:h / partition, 1:w / partition);
    filtered_img((h / partition) + 1:(h / (partition / 2)), (w / partition) + 1:(w / (partition / 2))) = HH_(1:h / partition, 1:w / partition);

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for octave</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>H1</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1103</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>175.076119089982</code></td></tr>
<tr><td><code>H1_</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1103</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>175.076119089982</code></td></tr>
<tr><td><code>HH</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1306</b></span></span></code></td><td><code>No</code></td><td><code>-191.7940793214828</code></td><td><code>207.2109093584157</code></td></tr>
<tr><td><code>HH_</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1306</b></span></span></code></td><td><code>No</code></td><td><code>-191.7940793214828</code></td><td><code>207.2109093584157</code></td></tr>
<tr><td><code>HL</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>14</code></td><td><code>2</code></td><td><code>12</code></td><td><code>No</code></td><td><code>-222.4494881438498</code></td><td><code>238.90159682089742</code></td></tr>
<tr><td><code>HL_</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1505</b></span></span></code></td><td><code>No</code></td><td><code>-222.4494881438498</code></td><td><code>238.90159682089742</code></td></tr>
<tr><td><code>L1</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>14</code></td><td><code>2</code></td><td><code>18</code></td><td><code>No</code></td><td><code>8.433862955502</code></td><td><code>365.9902968807861</code></td></tr>
<tr><td><code>L1_</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>0</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>LH</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>723</b></span></span></code></td><td><code>No</code></td><td><code>-112.27117764474458</code></td><td><code>114.73857242874173</code></td></tr>
<tr><td><code>LH_</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>723</b></span></span></code></td><td><code>No</code></td><td><code>-112.27117764474458</code></td><td><code>114.73857242874173</code></td></tr>
<tr><td><code>LL</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>14</code></td><td><code>2</code></td><td><code>25</code></td><td><code>No</code></td><td><code>10.528265926148531</code></td><td><code>503.94077737797</code></td></tr>
<tr><td><code>LL_</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>3175</b></span></span></code></td><td><code>No</code></td><td><code>0</code></td><td><code>503.94077737797</code></td></tr>
<tr><td><code>filtered_img</code></td><td><code>Output</code></td><td><code>512&nbsp;x&nbsp;512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>14</code></td><td><code>2</code></td><td><code>25</code></td><td><code>No</code></td><td><code>-222.4494881438498</code></td><td><code>503.94077737797</code></td></tr>
<tr><td><code>h</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>n</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>partition</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>raw_img</code></td><td><code>Input</code></td><td><code>512&nbsp;x&nbsp;512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>13</code></td><td><code>3</code></td><td><code>49</code></td><td><code><b>Yes</b></code></td><td><code>7</code></td><td><code>250</code></td></tr>
<tr><td><code>stride</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>w</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
</table>

<h2>Function filterSystem&gt;1 </h2>

<pre>
function yn = filterSystem(xn, wn, N, T)
    N = length(xn);
    M = size(wn, 2);
    L = fix(M / 2); % extend size // 2
    yn = zeros(1, N); % result
    yn = cast(yn,'like',T.filter_coef);

    x = [flip(xn(2:L + 1)), xn, flip(xn(N - L:N - 1))]; % Symmetric extension!

    for i = 1:N
        yn(i) = wn * x(1,i:i+M-1)';
    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for filterSystem&gt;1</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>L</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>3</code></td><td><code>3</code></td></tr>
<tr><td><code>M</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>7</code></td><td><code>7</code></td></tr>
<tr><td><code>N</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>i</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>512</code></td></tr>
<tr><td><code>wn</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;7</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code>5</code></td><td><code>No</code></td><td><code>-0.788485616406</code></td><td><code>0.418092273222</code></td></tr>
<tr><td><code>x</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>1026</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>xn</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>yn&gt;1</code></td><td><code>Output</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1306</b></span></span></code></td><td><code>No</code></td><td><code>-191.7940793214828</code></td><td><code>207.2109093584157</code></td></tr>
<tr><td><code>yn&gt;2</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>0</code></td></tr>
</table>

<h2>Function gn_HPF&gt;1 </h2>

<pre>
function filtered_img = gn_HPF(raw_img, horizontal, T)
    wn = [-0.064538882629 0.040689417609 0.418092273222 ...
              -0.788485616406 ...
              0.418092273222 0.040689417609 -0.064538882629];

    wn = cast(wn, 'like', T.filter_coef);

    [h, w] = size(raw_img);
    filtered_img = cast(raw_img, 'like', T.filter_coef);

    if horizontal == 1
        %Horizontal filtering
        for i = 1:h
            row_img = cast(raw_img(i, :), 'like', T.filter_coef);
            filtered_row = filterSystem(row_img, wn, w, T);
            filtered_img(i, :) = filtered_row;
        end

    else
        % Vertical filtering
        for i = 1:w
            col_img = cast(raw_img(:, i), 'like', T.filter_coef);
            filtered_col = filterSystem(col_img', wn, h, T);
            filtered_img(:, i) = filtered_col;
        end

    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for gn_HPF&gt;1</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>filtered_img</code></td><td><code>Output</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1575</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>250</code></td></tr>
<tr><td><code>filtered_row</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1103</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>175.076119089982</code></td></tr>
<tr><td><code>h</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>horizontal</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>i</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>512</code></td></tr>
<tr><td><code>raw_img</code></td><td><code>Input</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>13</code></td><td><code>3</code></td><td><code>49</code></td><td><code><b>Yes</b></code></td><td><code>7</code></td><td><code>250</code></td></tr>
<tr><td><code>row_img</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1575</b></span></span></code></td><td><code><b>Yes</b></code></td><td><code>7</code></td><td><code>250</code></td></tr>
<tr><td><code>w</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>wn&gt;1</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;7</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code>5</code></td><td><code>No</code></td><td><code>-0.788485616406</code></td><td><code>0.418092273222</code></td></tr>
<tr><td><code>wn&gt;2</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;7</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code>No</code></td><td><code>-0.788485616406</code></td><td><code>0.418092273222</code></td></tr>
</table>

<h2>Function downSampler&gt;1 </h2>

<pre>
function downSampledimg = downSampler(img, stride, odd, n, horizontal,T)
    [h, w] = size(img);
    partition = 2 ^ n;
    downSampledimg = cast(zeros(h),'like',T.filter_coef);

    if horizontal == 1

        if odd == 0
            %even for HPF
            downSampledimg(1:h, 1:w / 2) = img(1:h, 2:stride:w);
        else
            %odd for LPF
            downSampledimg(1:h, 1:w / 2) = img(1:h, 1:stride:w);
        end

    else

        if odd == 0
            %even for HPF
            downSampledimg(1:h / 2, 1:w) = img(2:stride:h, 1:w);
        else
            %odd for LPF
            downSampledimg(1:h / 2, 1:w) = img(1:stride:h, 1:w);
        end

    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for downSampler&gt;1</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>downSampledimg</code></td><td><code>Output</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1103</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>175.076119089982</code></td></tr>
<tr><td><code>h</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>horizontal</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>img</code></td><td><code>Input</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1103</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>175.076119089982</code></td></tr>
<tr><td><code>n</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>odd</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>0</code></td></tr>
<tr><td><code>partition</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>stride</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>w</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
</table>

<h2>Function filterSystem&gt;2 </h2>

<pre>
function yn = filterSystem(xn, wn, N, T)
    N = length(xn);
    M = size(wn, 2);
    L = fix(M / 2); % extend size // 2
    yn = zeros(1, N); % result
    yn = cast(yn,'like',T.filter_coef);

    x = [flip(xn(2:L + 1)), xn, flip(xn(N - L:N - 1))]; % Symmetric extension!

    for i = 1:N
        yn(i) = wn * x(1,i:i+M-1)';
    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for filterSystem&gt;2</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>L</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>4</code></td><td><code>4</code></td></tr>
<tr><td><code>M</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>9</code></td><td><code>9</code></td></tr>
<tr><td><code>N</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>i</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>512</code></td></tr>
<tr><td><code>wn</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;9</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code>6</code></td><td><code>No</code></td><td><code>-0.110624404418</code></td><td><code>0.852698679009</code></td></tr>
<tr><td><code>x</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>1027</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>13</code></td><td><code>3</code></td><td><code>49</code></td><td><code><b>Yes</b></code></td><td><code>7</code></td><td><code>250</code></td></tr>
<tr><td><code>xn</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>13</code></td><td><code>3</code></td><td><code>49</code></td><td><code><b>Yes</b></code></td><td><code>7</code></td><td><code>250</code></td></tr>
<tr><td><code>yn&gt;1</code></td><td><code>Output</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2306</b></span></span></code></td><td><code>No</code></td><td><code>0</code></td><td><code>365.9902968807861</code></td></tr>
<tr><td><code>yn&gt;2</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>0</code></td></tr>
</table>

<h2>Function hn_LPF&gt;1 </h2>

<pre>
function filtered_img = hn_LPF(raw_img, horizontal, T)
    wn = [0.037828455507 -0.023849465020 -0.110624404418 0.377402855613 ...
              0.852698679009 ...
              0.377402855613 -0.110624404418 -0.023849465020 0.037828455507];

    wn = cast(wn, 'like', T.filter_coef);

    [h, w] = size(raw_img);
    %Outputs
    filtered_img = cast(raw_img, 'like', T.lv1_output);

    if horizontal == 1
        %Horizontal filtering
        for i = 1:h
            row_img = raw_img(i, :);

            % row_img = cast(raw_img(i, :), 'like', T.filter_coef);
            filtered_row = filterSystem(row_img, wn, w, T);
            filtered_img(i, :) = filtered_row;
        end

    else
        % Vertical filtering
        for i = 1:w
            col_img = raw_img(:, i);

            % col_img = cast(raw_img(:, i), 'like', T.filter_coef);
            filtered_col = filterSystem(col_img', wn, h, T);
            filtered_img(:, i) = filtered_col;
        end

    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for hn_LPF&gt;1</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>filtered_img</code></td><td><code>Output</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>14</code></td><td><code>2</code></td><td><code>18</code></td><td><code>No</code></td><td><code>7</code></td><td><code>365.9902968807861</code></td></tr>
<tr><td><code>filtered_row</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2306</b></span></span></code></td><td><code>No</code></td><td><code>8.433862955502</code></td><td><code>365.9902968807861</code></td></tr>
<tr><td><code>h</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>horizontal</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>i</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>512</code></td></tr>
<tr><td><code>raw_img</code></td><td><code>Input</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>13</code></td><td><code>3</code></td><td><code>49</code></td><td><code><b>Yes</b></code></td><td><code>7</code></td><td><code>250</code></td></tr>
<tr><td><code>row_img</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>13</code></td><td><code>3</code></td><td><code>49</code></td><td><code><b>Yes</b></code></td><td><code>7</code></td><td><code>250</code></td></tr>
<tr><td><code>w</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>wn&gt;1</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;9</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code>6</code></td><td><code>No</code></td><td><code>-0.110624404418</code></td><td><code>0.852698679009</code></td></tr>
<tr><td><code>wn&gt;2</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;9</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code>No</code></td><td><code>-0.110624404418</code></td><td><code>0.852698679009</code></td></tr>
</table>

<h2>Function downSampler&gt;2 </h2>

<pre>
function downSampledimg = downSampler(img, stride, odd, n, horizontal,T)
    [h, w] = size(img);
    partition = 2 ^ n;
    downSampledimg = cast(zeros(h),'like',T.filter_coef);

    if horizontal == 1

        if odd == 0
            %even for HPF
            downSampledimg(1:h, 1:w / 2) = img(1:h, 2:stride:w);
        else
            %odd for LPF
            downSampledimg(1:h, 1:w / 2) = img(1:h, 1:stride:w);
        end

    else

        if odd == 0
            %even for HPF
            downSampledimg(1:h / 2, 1:w) = img(2:stride:h, 1:w);
        else
            %odd for LPF
            downSampledimg(1:h / 2, 1:w) = img(1:stride:h, 1:w);
        end

    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for downSampler&gt;2</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>downSampledimg</code></td><td><code>Output</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>0</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>h</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>horizontal</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>img</code></td><td><code>Input</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>14</code></td><td><code>2</code></td><td><code>18</code></td><td><code>No</code></td><td><code>8.433862955502</code></td><td><code>365.9902968807861</code></td></tr>
<tr><td><code>n</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>odd</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>partition</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>stride</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>w</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
</table>

<h2>Function gn_HPF&gt;2 </h2>

<pre>
function filtered_img = gn_HPF(raw_img, horizontal, T)
    wn = [-0.064538882629 0.040689417609 0.418092273222 ...
              -0.788485616406 ...
              0.418092273222 0.040689417609 -0.064538882629];

    wn = cast(wn, 'like', T.filter_coef);

    [h, w] = size(raw_img);
    filtered_img = cast(raw_img, 'like', T.filter_coef);

    if horizontal == 1
        %Horizontal filtering
        for i = 1:h
            row_img = cast(raw_img(i, :), 'like', T.filter_coef);
            filtered_row = filterSystem(row_img, wn, w, T);
            filtered_img(i, :) = filtered_row;
        end

    else
        % Vertical filtering
        for i = 1:w
            col_img = cast(raw_img(:, i), 'like', T.filter_coef);
            filtered_col = filterSystem(col_img', wn, h, T);
            filtered_img(:, i) = filtered_col;
        end

    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for gn_HPF&gt;2</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>col_img</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;1</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>filtered_col</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1306</b></span></span></code></td><td><code>No</code></td><td><code>-191.7940793214828</code></td><td><code>207.2109093584157</code></td></tr>
<tr><td><code>filtered_img</code></td><td><code>Output</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>-191.7940793214828</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>h</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>horizontal</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>0</code></td></tr>
<tr><td><code>i</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>256</code></td></tr>
<tr><td><code>raw_img</code></td><td><code>Input</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>w</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>256</code></td><td><code>256</code></td></tr>
<tr><td><code>wn&gt;1</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;7</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code>5</code></td><td><code>No</code></td><td><code>-0.788485616406</code></td><td><code>0.418092273222</code></td></tr>
<tr><td><code>wn&gt;2</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;7</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code>No</code></td><td><code>-0.788485616406</code></td><td><code>0.418092273222</code></td></tr>
</table>

<h2>Function downSampler&gt;3 </h2>

<pre>
function downSampledimg = downSampler(img, stride, odd, n, horizontal,T)
    [h, w] = size(img);
    partition = 2 ^ n;
    downSampledimg = cast(zeros(h),'like',T.filter_coef);

    if horizontal == 1

        if odd == 0
            %even for HPF
            downSampledimg(1:h, 1:w / 2) = img(1:h, 2:stride:w);
        else
            %odd for LPF
            downSampledimg(1:h, 1:w / 2) = img(1:h, 1:stride:w);
        end

    else

        if odd == 0
            %even for HPF
            downSampledimg(1:h / 2, 1:w) = img(2:stride:h, 1:w);
        else
            %odd for LPF
            downSampledimg(1:h / 2, 1:w) = img(1:stride:h, 1:w);
        end

    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for downSampler&gt;3</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>downSampledimg</code></td><td><code>Output</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1306</b></span></span></code></td><td><code>No</code></td><td><code>-191.7940793214828</code></td><td><code>207.2109093584157</code></td></tr>
<tr><td><code>h</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>horizontal</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>0</code></td></tr>
<tr><td><code>img</code></td><td><code>Input</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>1306</b></span></span></code></td><td><code>No</code></td><td><code>-191.7940793214828</code></td><td><code>207.2109093584157</code></td></tr>
<tr><td><code>n</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>odd</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>0</code></td></tr>
<tr><td><code>partition</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>stride</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>w</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>256</code></td><td><code>256</code></td></tr>
</table>

<h2>Function filterSystem&gt;3 </h2>

<pre>
function yn = filterSystem(xn, wn, N, T)
    N = length(xn);
    M = size(wn, 2);
    L = fix(M / 2); % extend size // 2
    yn = zeros(1, N); % result
    yn = cast(yn,'like',T.filter_coef);

    x = [flip(xn(2:L + 1)), xn, flip(xn(N - L:N - 1))]; % Symmetric extension!

    for i = 1:N
        yn(i) = wn * x(1,i:i+M-1)';
    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for filterSystem&gt;3</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>L</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>4</code></td><td><code>4</code></td></tr>
<tr><td><code>M</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>9</code></td><td><code>9</code></td></tr>
<tr><td><code>N</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>i</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>512</code></td></tr>
<tr><td><code>wn</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;9</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code>6</code></td><td><code>No</code></td><td><code>-0.110624404418</code></td><td><code>0.852698679009</code></td></tr>
<tr><td><code>x</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>1027</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>xn</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>yn&gt;1</code></td><td><code>Output</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>3175</b></span></span></code></td><td><code>No</code></td><td><code>-222.4494881438498</code></td><td><code>503.94077737797</code></td></tr>
<tr><td><code>yn&gt;2</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>0</code></td></tr>
</table>

<h2>Function hn_LPF&gt;2 </h2>

<pre>
function filtered_img = hn_LPF(raw_img, horizontal, T)
    wn = [0.037828455507 -0.023849465020 -0.110624404418 0.377402855613 ...
              0.852698679009 ...
              0.377402855613 -0.110624404418 -0.023849465020 0.037828455507];

    wn = cast(wn, 'like', T.filter_coef);

    [h, w] = size(raw_img);
    %Outputs
    filtered_img = cast(raw_img, 'like', T.lv1_output);

    if horizontal == 1
        %Horizontal filtering
        for i = 1:h
            row_img = raw_img(i, :);

            % row_img = cast(raw_img(i, :), 'like', T.filter_coef);
            filtered_row = filterSystem(row_img, wn, w, T);
            filtered_img(i, :) = filtered_row;
        end

    else
        % Vertical filtering
        for i = 1:w
            col_img = raw_img(:, i);

            % col_img = cast(raw_img(:, i), 'like', T.filter_coef);
            filtered_col = filterSystem(col_img', wn, h, T);
            filtered_img(:, i) = filtered_col;
        end

    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for hn_LPF&gt;2</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>col_img</code></td><td><code>Local</code></td><td><code><b>:</b>512&nbsp;x&nbsp;1</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>filtered_col</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>3175</b></span></span></code></td><td><code>No</code></td><td><code>-222.4494881438498</code></td><td><code>503.94077737797</code></td></tr>
<tr><td><code>filtered_img</code></td><td><code>Output</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>14</code></td><td><code>2</code></td><td><code>25</code></td><td><code>No</code></td><td><code>-222.4494881438498</code></td><td><code>503.94077737797</code></td></tr>
<tr><td><code>h</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>horizontal</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>0</code></td></tr>
<tr><td><code>i</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>256</code></td></tr>
<tr><td><code>raw_img</code></td><td><code>Input</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>2267</b></span></span></code></td><td><code>No</code></td><td><code>-160.017616514522</code></td><td><code>359.781614182235</code></td></tr>
<tr><td><code>w</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>256</code></td><td><code>256</code></td></tr>
<tr><td><code>wn&gt;1</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;9</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code>6</code></td><td><code>No</code></td><td><code>-0.110624404418</code></td><td><code>0.852698679009</code></td></tr>
<tr><td><code>wn&gt;2</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;9</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code>No</code></td><td><code>-0.110624404418</code></td><td><code>0.852698679009</code></td></tr>
</table>

<h2>Function downSampler&gt;4 </h2>

<pre>
function downSampledimg = downSampler(img, stride, odd, n, horizontal,T)
    [h, w] = size(img);
    partition = 2 ^ n;
    downSampledimg = cast(zeros(h),'like',T.filter_coef);

    if horizontal == 1

        if odd == 0
            %even for HPF
            downSampledimg(1:h, 1:w / 2) = img(1:h, 2:stride:w);
        else
            %odd for LPF
            downSampledimg(1:h, 1:w / 2) = img(1:h, 1:stride:w);
        end

    else

        if odd == 0
            %even for HPF
            downSampledimg(1:h / 2, 1:w) = img(2:stride:h, 1:w);
        else
            %odd for LPF
            downSampledimg(1:h / 2, 1:w) = img(1:stride:h, 1:w);
        end

    end

end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for downSampler&gt;4</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>DT Mode</th><th>Signedness</th><th>WL</th><th>FL</th><th>Percent of<br>Current Range</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>downSampledimg</code></td><td><code>Output</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>8</code></td><td><code>3</code></td><td><code><span style="background-color: Pink"><span style="color: black"><b>3175</b></span></span></code></td><td><code>No</code></td><td><code>-222.4494881438498</code></td><td><code>503.94077737797</code></td></tr>
<tr><td><code>h</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>512</code></td><td><code>512</code></td></tr>
<tr><td><code>horizontal</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>0</code></td></tr>
<tr><td><code>img</code></td><td><code>Input</code></td><td><code><b>:</b>512&nbsp;x&nbsp;<b>:</b>512</code></td><td><code>embedded.fi</code></td><td><code>No</code></td><td><code>ScaledDouble</code></td><td><code>Signed</code></td><td><code>14</code></td><td><code>2</code></td><td><code>25</code></td><td><code>No</code></td><td><code>-222.4494881438498</code></td><td><code>503.94077737797</code></td></tr>
<tr><td><code>n</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>odd</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>1</code></td><td><code>1</code></td></tr>
<tr><td><code>partition</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>stride</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>2</code></td><td><code>2</code></td></tr>
<tr><td><code>w</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code></code></td><td><code><b>Yes</b></code></td><td><code>256</code></td><td><code>256</code></td></tr>
</table>
</html>
